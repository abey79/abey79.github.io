<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Annotated Release Notes: vpype 1.12 | bylr.info</title>
<meta name=keywords content="vpype,plotter">
<meta name=description content="vpype 1.12 is out! üéâ
No ground-breaking features, but an improved &ldquo;quality-of-life&rdquo;, especially for Apple-silicon Mac owners, and few other goodies.
Let&rsquo;s dive in.">
<meta name=author content>
<link rel=canonical href=https://bylr.info/articles/2022/10/25/annotated-release-notes-vpype-1.12/>
<link crossorigin=anonymous href=/assets/css/stylesheet.9d062edb236f2ea4fdd741bf42f29e31efa12bcd7050f0de6428570bde275986.css integrity="sha256-nQYu2yNvLqT910G/QvKeMe+hK81wUPDeZChXC94nWYY=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bylr.info/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://bylr.info/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://bylr.info/favicon-32x32.png>
<link rel=apple-touch-icon href=https://bylr.info/apple-touch-icon.png>
<link rel=mask-icon href=https://bylr.info/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript><script defer data-domain=bylr.info data-api=https://sta.abeyeler.workers.dev/sta/event src=https://sta.abeyeler.workers.dev/sta/script.js></script><meta property="og:title" content="Annotated Release Notes: vpype 1.12">
<meta property="og:description" content="vpype 1.12 is out! üéâ
No ground-breaking features, but an improved &ldquo;quality-of-life&rdquo;, especially for Apple-silicon Mac owners, and few other goodies.
Let&rsquo;s dive in.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://bylr.info/articles/2022/10/25/annotated-release-notes-vpype-1.12/">
<meta property="og:image" content="https://bylr.info/vpype-112-banner.png"><meta property="article:section" content="articles">
<meta property="article:published_time" content="2022-10-25T00:00:00+00:00">
<meta property="article:modified_time" content="2022-10-25T00:00:00+00:00"><meta property="og:site_name" content="Antoine Beyeler">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://bylr.info/vpype-112-banner.png">
<meta name=twitter:title content="Annotated Release Notes: vpype 1.12">
<meta name=twitter:description content="vpype 1.12 is out! üéâ
No ground-breaking features, but an improved &ldquo;quality-of-life&rdquo;, especially for Apple-silicon Mac owners, and few other goodies.
Let&rsquo;s dive in.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Articles","item":"https://bylr.info/articles/"},{"@type":"ListItem","position":2,"name":"Annotated Release Notes: vpype 1.12","item":"https://bylr.info/articles/2022/10/25/annotated-release-notes-vpype-1.12/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Annotated Release Notes: vpype 1.12","name":"Annotated Release Notes: vpype 1.12","description":"vpype 1.12 is out! üéâ\nNo ground-breaking features, but an improved \u0026ldquo;quality-of-life\u0026rdquo;, especially for Apple-silicon Mac owners, and few other goodies.\nLet\u0026rsquo;s dive in.\n","keywords":["vpype","plotter"],"articleBody":"vpype 1.12 is out! üéâ\nNo ground-breaking features, but an improved ‚Äúquality-of-life‚Äù, especially for Apple-silicon Mac owners, and few other goodies.\nLet‚Äôs dive in.\nMigration to PySide6  Migrated to PySide6 (from PySide2), which simplifies installation on Apple silicon Macs (#552, #559, #567)   PySide2 is the official Python wrapper for Qt 5, the GUI toolkit I use for the viewer. As Qt 5 doesn‚Äôt officially support Apple-silicon Macs, PySide2 ‚Äì and thus vpype until now ‚Äì were notoriously difficult to install on these computers. This is resolved with the transition to PySide6, which wraps Qt 6 and officially supports Apple-silicon Macs.\nThis took me waaaay too long. I actually feel bad for the struggle incurred to vpype users üòÖ All things considered, the migration wasn‚Äôt that complicated, but there were still a few pitfalls to figure out due to Qt 6 breaking changes around the OpenGL-based widget.\nMigrating to PySide6 is also a major step towards supporting Python 3.11, which brings a host of novelties as well as a significant performance bumps. I‚Äôm hoping this will happen by the next release, which means vpype 1.12 might well be the last to support Python 3.8.\nOther fixes and improvements  The layout command now properly handles the tight special case by fitting the page size around the existing geometries, accommodating for a margin if provided (#556) Fixed a viewer issue where page width/height of 0 would lead to errors and a blank display (#555)   Using layout tight would formerly set the page size to 0 by 0, which is useless in itself and caused a blank display. Not only the blanking issue has been resolved, but layout tight is now actually useful. It sets the page size to fit exactly the current geometries, accounting for a margin if --fit-to-margin MARGIN is provided.\n Added inch unit as a synonym to in, useful for expressions (in which in is a reserved keyword) (#541)   This addresses an oversight introduced with expressions in vpype 1.9. The units available for length CLI options are also available as scaling factor in expressions. For example, this creates a 10x15 cm rectangle:\nvpype rect 0 0 10cm '%15*cm%' show The expression works because the cm variable is made available by the interpreter, and set to the conversion factor between centimetres and pixels. This would however break for inches, because in is a reserved keyword in Python. The variable inch is now available instead. Either form can be used in CLI options, but inch must be used in expressions:\nvpype circle 5in 5inch '%3*inch%' show   Fixed a viewer issue where fitting the view to the document would not adjust when page size changes (vsketch only) (#564)   This change doesn‚Äôt directly benefits vpype as the page size cannot change while the viewer is active. In vsketch, however, the sketch code is free to set/change the page size based on GUI parameters, like in the included quick_draw example. In this case, when the view is fitted to the page size (i.e. as long as you don‚Äôt zoom or scroll), the view will adjust when the page size changes.\n Updated svgelements to 1.8.4, which fixes issue with some SVG constructs used by Matplotlib exports (#549)   Supporting all of the SVG standard subtleties is hard. Not only svgelements does a great job at it, but @tatarize‚Äôs reactivity when edge cases appear is unmatched. In this instance, Drawingbots' Discord user apur wanted to plot Matplotlib-generated SVGs of LaTeX equations. They included unusual  elements, which didn‚Äôt import properly. This is now fixed and I eagerly await the next niche corner case! ü§ó\n Migrated to Plausible.io (from Google Analytics) for vpype.readthedocs.io (#546)   Plausible is a privacy-focused, GDPR-compliant web statistics service. As I did for this site, I migrated from Google Analytics with my projects' documentation web sites. This is a paid service, so that neither your or I are the product.\nMystery changes  Added new units (yd, mi, and km) (#541) Added vpype.format_length() to convert pixel length into human-readable string with units (#541)   Yes, vpype supports kilometer-scale plots!1\nSeriously though, these changes are part of the WIP improvements of vpype‚Äôs terminal output. This will happen in future versions, but for some reason it was easier to integrate those change early.\nDeveloper-related changes  Poetry 1.2 or later is not required (developer only) (#541) A justfile is now provided for most common operations (install, build the documentation, etc.) (#541)   Shoutout to these two great dev tools: Poetry (Python dependency management) and just (make replacement for useful commands). I use them on a daily basis!\n  plotter not included¬†‚Ü©Ô∏é\n  ","wordCount":"757","inLanguage":"en","image":"https://bylr.info/vpype-112-banner.png","datePublished":"2022-10-25T00:00:00Z","dateModified":"2022-10-25T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://bylr.info/articles/2022/10/25/annotated-release-notes-vpype-1.12/"},"publisher":{"@type":"Organization","name":"bylr.info","logo":{"@type":"ImageObject","url":"https://bylr.info/favicon.ico"}}}</script>
</head>
<body id=top>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://bylr.info/ accesskey=h title="bylr.info (Alt + H)">bylr.info</a>
<div class=logo-switches>
</div>
</div>
<ul id=menu>
<li>
<a href=https://bylr.info/about/ title=about>
<span>about</span>
</a>
</li>
<li>
<a href=https://bylr.info/archives title=archives>
<span>archives</span>
</a>
</li>
<li>
<a href=https://bylr.info/tags/ title=tags>
<span>tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Annotated Release Notes: vpype 1.12
</h1>
<div class=post-meta><span title="2022-10-25 00:00:00 +0000 UTC">October 25, 2022</span>&nbsp;|&nbsp;<a href=https://github.com/abey79/abey79.github.io/blob/main/content/articles/vpype-1.12.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header>
<figure class=entry-cover><img loading=lazy src=https://bylr.info/vpype-112-banner.png alt="vpype loves apple silicon">
</figure>
<div class=post-content><p><em>vpype</em> 1.12 is out! üéâ</p>
<p>No ground-breaking features, but an improved &ldquo;quality-of-life&rdquo;, especially for Apple-silicon Mac owners, and few other goodies.</p>
<p>Let&rsquo;s dive in.</p>
<h2 id=migration-to-pyside6>Migration to PySide6<a hidden class=anchor aria-hidden=true href=#migration-to-pyside6>#</a></h2>
<blockquote class=extract>
<p><ul>
<li>Migrated to PySide6 (from PySide2), which simplifies installation on Apple silicon Macs (#552, #559, #567)</li>
</ul>
</p>
</blockquote>
<p>PySide2 is the official Python wrapper for <a href=https://doc.qt.io/qt-5/>Qt 5</a>, the GUI toolkit I use for the viewer. As Qt 5 doesn&rsquo;t officially support Apple-silicon Macs, PySide2 ‚Äì and thus <em>vpype</em> until now ‚Äì were notoriously difficult to install on these computers. This is resolved with the transition to PySide6, which wraps <a href=https://www.qt.io/product/qt6>Qt 6</a> and officially supports Apple-silicon Macs.</p>
<p>This took me waaaay too long. I actually feel bad for <a href=https://github.com/abey79/vpype/issues/320>the struggle</a> incurred to <em>vpype</em> users üòÖ All things considered, the migration wasn&rsquo;t that complicated, but there were still <a href=https://github.com/abey79/vpype/pull/552>a few pitfalls</a> to figure out due to Qt 6 breaking changes around the OpenGL-based widget.</p>
<p>Migrating to PySide6 is also a major step towards supporting Python 3.11, which brings a <a href=https://docs.python.org/3.11/whatsnew/3.11.html>host of novelties</a> as well as a significant performance bumps. I&rsquo;m hoping this will happen by the next release, which means <em>vpype</em> 1.12 might well be the last to support Python 3.8.</p>
<h2 id=other-fixes-and-improvements>Other fixes and improvements<a hidden class=anchor aria-hidden=true href=#other-fixes-and-improvements>#</a></h2>
<blockquote class=extract>
<p><ul>
<li>The <code>layout</code> command now properly handles the <code>tight</code> special case by fitting the page size around the existing geometries, accommodating for a margin if provided (#556)</li>
<li>Fixed a viewer issue where page width/height of 0 would lead to errors and a blank display (#555)</li>
</ul>
</p>
</blockquote>
<p>Using <code>layout tight</code> would formerly set the page size to 0 by 0, which is useless in itself and caused a blank display. Not only the blanking issue has been resolved, but <code>layout tight</code> is now actually useful. It sets the page size to fit exactly the current geometries, accounting for a margin if <code>--fit-to-margin MARGIN</code> is provided.</p>
<blockquote class=extract>
<p><ul>
<li>Added <code>inch</code> unit as a synonym to <code>in</code>, useful for expressions (in which <code>in</code> is a reserved keyword) (#541)</li>
</ul>
</p>
</blockquote>
<p>This addresses an oversight introduced with expressions in <a href=/articles/2022/03/03/annotated-release-notes-vpype-1.9/><em>vpype</em> 1.9</a>. The units available for length CLI options are also available as scaling factor in expressions. For example, this creates a 10x15 cm rectangle:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>vpype rect <span style=color:#099>0</span> <span style=color:#099>0</span> 10cm <span style=color:#d14>&#39;%15*cm%&#39;</span> show
</code></pre></div><p>The expression works because the <code>cm</code> variable is made available by the interpreter, and set to the conversion factor between centimetres and pixels. This would however break for inches, because <code>in</code> is a <a href=https://docs.python.org/3/reference/lexical_analysis.html#keywords>reserved keyword</a> in Python. The variable <code>inch</code> is now available instead. Either form can be used in CLI options, but <code>inch</code> must be used in expressions:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>vpype circle 5in 5inch <span style=color:#d14>&#39;%3*inch%&#39;</span> show
</code></pre></div>
<blockquote class=extract>
<p><ul>
<li>Fixed a viewer issue where fitting the view to the document would not adjust when page size changes (<em>vsketch</em> only) (#564)</li>
</ul>
</p>
</blockquote>
<p>This change doesn&rsquo;t directly benefits <em>vpype</em> as the page size cannot change while the viewer is active. In <em>vsketch</em>, however, the sketch code is free to set/change the page size based on GUI parameters, like in the included <code>quick_draw</code> example. In this case, when the view is fitted to the page size (i.e. as long as you don&rsquo;t zoom or scroll), the view will adjust when the page size changes.</p>
<blockquote class=extract>
<p><ul>
<li>Updated <a href=https://github.com/meerk40t/svgelements>svgelements</a> to 1.8.4, which fixes issue with some SVG constructs used by Matplotlib exports (#549)</li>
</ul>
</p>
</blockquote>
<p>Supporting all of the SVG standard subtleties is <em>hard</em>. Not only <a href=https://github.com/meerk40t/svgelements>svgelements</a> does a great job at it, but <a href=https://github.com/tatarize>@tatarize</a>&rsquo;s reactivity when edge cases appear is unmatched. In this instance, <a href=https://drawingbots.net>Drawingbots</a>' Discord user <em>apur</em> wanted to plot <a href=https://matplotlib.org>Matplotlib</a>-generated SVGs of <a href=https://www.latex-project.org>LaTeX</a> equations. They included unusual <code>&lt;use></code> elements, which didn&rsquo;t import properly. This is now fixed and I eagerly await the next niche corner case! ü§ó</p>
<blockquote class=extract>
<p><ul>
<li>Migrated to <a href=https://plausible.io>Plausible.io</a> (from Google Analytics) for <a href=https://vpype.readthedocs.io>vpype.readthedocs.io</a> (#546)</li>
</ul>
</p>
</blockquote>
<p><a href=https://plausible.io>Plausible</a> is a privacy-focused, <a href=https://gdpr-info.eu>GDPR</a>-compliant web statistics service. As I did for this site, I migrated from Google Analytics with my projects' documentation web sites. This is a paid service, so that neither your or I are the product.</p>
<h2 id=mystery-changes>Mystery changes<a hidden class=anchor aria-hidden=true href=#mystery-changes>#</a></h2>
<blockquote class=extract>
<p><ul>
<li>Added new units (<code>yd</code>, <code>mi</code>, and <code>km</code>) (#541)</li>
<li>Added <code>vpype.format_length()</code> to convert pixel length into human-readable string with units (#541)</li>
</ul>
</p>
</blockquote>
<p>Yes, <em>vpype</em> supports kilometer-scale plots!<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p>
<p>Seriously though, these changes are part of the WIP improvements of <em>vpype</em>&rsquo;s terminal output. This will happen in future versions, but for some reason it was easier to integrate those change early.</p>
<h2 id=developer-related-changes>Developer-related changes<a hidden class=anchor aria-hidden=true href=#developer-related-changes>#</a></h2>
<blockquote class=extract>
<p><ul>
<li><a href=https://python-poetry.org>Poetry</a> 1.2 or later is not required (developer only) (#541)</li>
<li>A <code>justfile</code> is now provided for most common operations (install, build the documentation, etc.) (#541)</li>
</ul>
</p>
</blockquote>
<p>Shoutout to these two great dev tools: <a href=https://python-poetry.org>Poetry</a> (Python dependency management) and <a href=https://just.systems>just</a> (<a href=https://www.gnu.org/software/make/>make</a> replacement for useful commands). I use them on a daily basis!</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>plotter not included&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://bylr.info/tags/vpype/>vpype</a></li>
<li><a href=https://bylr.info/tags/plotter/>plotter</a></li>
</ul>
</footer><script src=https://utteranc.es/client.js repo=abey79/abey79.github.io issue-term=pathname label=comments theme=github-light crossorigin=anonymous async></script>
</article>
</main>
<footer class=footer>
<span>¬© 2022 Antoine Beyeler ‚Äì</span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerHTML='copy';function d(){a.innerHTML='copied!',setTimeout(()=>{a.innerHTML='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>